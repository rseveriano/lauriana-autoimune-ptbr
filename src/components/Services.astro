---
import { useTranslations } from '../i18n/utils';

interface Props {
    lang: 'pt' | 'en' | 'es';
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const services = [
    {
        title: t('services.tea.title'),
        description: t('services.tea.desc'),
        icon: "brain"
    },
    {
        title: t('services.tdah.title'),
        description: t('services.tdah.desc'),
        icon: "zap"
    },
    {
        title: t('services.t21.title'),
        description: t('services.t21.desc'),
        icon: "heart"
    },
    {
        title: t('services.autoimmune.title'),
        description: t('services.autoimmune.desc'),
        icon: "shield",
        link: lang === 'pt' ? '/ai/' : lang === 'en' ? '/ai/en' : '/ai/es'
    }
];
---

<section id="services" class="py-20 bg-secondary/30">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <span class="text-primary font-semibold tracking-wider uppercase">{t('services.title')}</span>
            <h2 class="text-4xl md:text-5xl font-heading font-bold text-dark mt-2">
                {t('services.subtitle')}
            </h2>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
            {services.map((service) => {
                const Card = service.link ? 'a' : 'div';
                return (
                    <Card 
                        href={service.link}
                        class="bg-white p-8 rounded-4xl shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group flex flex-col h-full cursor-default"
                        style={service.link ? 'cursor: pointer;' : ''}
                    >
                        <div class="w-16 h-16 bg-secondary rounded-2xl flex items-center justify-center text-primary mb-6 group-hover:bg-primary group-hover:text-white transition-colors">
                            {service.icon === 'brain' && (
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>
                            )}
                            {service.icon === 'zap' && (
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                            )}
                            {service.icon === 'heart' && (
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                            )}
                            {service.icon === 'shield' && (
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shield"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>
                            )}
                        </div>
                        <h3 class="text-2xl font-heading font-bold text-dark mb-4">{service.title}</h3>
                        <p class="text-dark/70 leading-relaxed flex-grow">
                            {service.description}
                        </p>
                    </Card>
                );
            })}
        </div>
    </div>
</section>
