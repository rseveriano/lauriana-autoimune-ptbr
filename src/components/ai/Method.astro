---
import { aiTranslations } from '../../i18n/ai';

interface Props {
    lang: 'pt' | 'en' | 'es';
}

const { lang } = Astro.props;
const t = (key: keyof typeof aiTranslations['pt']) => aiTranslations[lang][key];

// Parse markdown-like bold syntax
const parseText = (text: string) => {
    return text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
};
---

<section id="metodo" class="py-20 bg-white">
    <div class="container mx-auto px-6 flex flex-col md:flex-row items-center gap-12">
        <div class="w-full md:w-1/2">
            <img src="/ai/planta.webp" alt="Fresh food and nutrition for biological terrain renewal"
                class="w-full h-[400px] object-cover rounded-4xl shadow-xl" loading="lazy" width="600" height="400">
        </div>
        <div class="w-full md:w-1/2">
            <h2 class="text-3xl lg:text-4xl font-playfair font-bold text-gray-900 mb-6">
                {t('method.title.prefix')} <span class="text-brand-green">{t('method.title.highlight')}</span>
            </h2>
            <p class="text-gray-600 text-lg mb-6 leading-relaxed" set:html={parseText(t('method.desc.1'))} />
            <p class="text-gray-600 text-lg mb-8 leading-relaxed" set:html={parseText(t('method.desc.2'))} />
            
            <ul class="space-y-4">
                <li class="flex items-start">
                    <i class="ph ph-check-circle text-brand-green text-xl mr-3 mt-1"></i>
                    <span>{t('method.list.1')}</span>
                </li>
                <li class="flex items-start">
                    <i class="ph ph-check-circle text-brand-green text-xl mr-3 mt-1"></i>
                    <span>{t('method.list.2')}</span>
                </li>
                <li class="flex items-start">
                    <i class="ph ph-check-circle text-brand-green text-xl mr-3 mt-1"></i>
                    <span>{t('method.list.3')}</span>
                </li>
            </ul>
        </div>
    </div>
</section>
